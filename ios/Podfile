# Podfile
platform :ios, '18.5'
use_frameworks!
use_modular_headers!

# Evita que CocoaPods envie estadística
ENV['COCOAPODS_DISABLE_STATS'] = 'true'

# Helper para localizar el SDK de Flutter
def flutter_root
  generated_xcode_build_settings = File.expand_path(
    File.join('..', 'Flutter', 'Flutter.framework', 'Info.plist'),
    __FILE__
  )
  File.dirname(File.dirname(generated_xcode_build_settings))
end

# Carga el podhelper que define flutter_install_all_ios_pods
require File.expand_path(
  File.join(flutter_root, 'packages', 'flutter_tools', 'bin', 'podhelper'),
  __FILE__
)

flutter_ios_podfile_setup

target 'Runner' do
  # Aquí se instalan todos los pods de los plugins de Flutter
  flutter_install_all_ios_pods(__dir__)
end

post_install do |installer|
  flutter_post_install(installer)
end
